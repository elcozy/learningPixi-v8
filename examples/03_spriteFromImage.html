<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Make a sprite from an image</title>
    </head>
    <body>
        <script src="../pixi/pixi.min.js"></script>
        <script>
            (async () => {
                //Create a Pixi Application
                const app = new PIXI.Application();

                await app.init({
                    width: 256,
                    height: 256,
                    antialias: true,
                    transparent: false,
                    resolution: 1,
                    background: "#061039",
                    backgroundAlpha: 0.1,
                });

                //Add the canvas that Pixi automatically created for you to the HTML document
                document.body.appendChild(app.canvas);

                //load an image and run the `setup` function when it's done
                // PIXI.Loader.shared.add("images/cat.png").load(setup);

                await PIXI.Assets.load("images/cat.png").then(setup);

                //This `setup` function will run when the image has loaded
                function setup(texture) {
                    //Create the cat sprite
                    const cat = new PIXI.Sprite(texture);

                    //You can also create the `cat` sprite from the texture, like this:
                    // const cat = new PIXI.Sprite(
                    //     PIXI.Texture.from("images/cat.png")
                    // );

                    //Add the cat to the stage
                    app.stage.addChild(cat);

                    //If you ever need to, here's how you can clean out WebGL's GPU
                    //memory manually
                    /*
                    // PIXI.Assets.cache.reset()
                    // console.log(PIXI.Assets.cache);
                    */
                }
            })();
        </script>
    </body>
</html>
